package com.example.toast;

import android.app.Notification;
import android.app.NotificationChannel;
import android.app.NotificationManager;
import android.content.Context;
import android.content.ContextWrapper;
import android.content.Intent;
import android.content.res.Resources;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.Color;
import android.graphics.drawable.Icon;

import androidx.core.app.NotificationCompat;

public class NotificationHelper extends ContextWrapper {
    private static final String CHANNAL_ID="package com.example.notificationcannal";
    private static final String CHANNAL_NAME="Channel";
    private NotificationManager manager;
    public NotificationHelper(Context base) {
        super(base);
        createChannel();
    }

    private void createChannel() {
        //IMPORTANCE_DEFAULT=show everywhere
        NotificationChannel rehabchannal=new NotificationChannel( CHANNAL_ID,CHANNAL_NAME,NotificationManager.IMPORTANCE_HIGH);
        rehabchannal.enableLights(true);
        rehabchannal.enableVibration(true);
        rehabchannal.setLightColor(Color.GREEN);
        rehabchannal.setVibrationPattern(new long[]{0, 1000, 500, 1000});
        rehabchannal.enableVibration(true);
        getManager().createNotificationChannel(rehabchannal);

    }

    public NotificationManager getManager() {
        if (manager== null)
            manager=(NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE);



        return manager;
    }
    public Notification.Builder getChannnelNotification(String title,String body){
        //Bitmap picture= BitmapFactory.decodeResource(getResources(),R.drawable.picture2);
        Bitmap icon1 = BitmapFactory.decodeResource(Resources.getSystem(),
                R.drawable.sleep);
        return new Notification.Builder(getApplicationContext(),CHANNAL_ID)
                .setContentText(body)
                .setContentTitle(title)
                //  .setLargeIcon(pi